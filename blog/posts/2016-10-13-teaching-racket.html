<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>My Hakyll Blog - My experience teaching my kids some programming</title>
        <link rel="stylesheet" type="text/css" href="../css/default.css" />
    </head>
    <body>
        <div id="header">
            <div id="logo">
                <a href="../">My Hakyll Blog</a>
            </div>
            <div id="navigation">
                <a href="../">Home</a>
                <a href="../about.html">About</a>
                <a href="../archive.html">Archive</a>
            </div>
        </div>

        <div id="content">
            <h1>My experience teaching my kids some programming</h1>

            <div class="info">
    Posted on October 13, 2016
    
        by emmanuel
    
</div>

<p>As a professionnal software developer, and with my older daughter Lara being 11 years old, and the second one Kristina 8, I figured it made sense to spend some time trying to introduce them to programming. My father introduced me to it at a slightly later age, but still relatively early (it was some BASIC dialect at the time).</p>
<p>After some research I decided to eschew the usual choice of <a href="https://en.wikipedia.org/wiki/Scratch_(programming_language)">Scratch</a> because I thought it too imperative, not emphasizing enough programming as composition of smaller pieces, and not being something you can easily grow from to more classical programming languages. I may have been wrong on this, I confess that I didn’t spend as much time researching <code>scratch</code> as I should have.</p>
<p>Instead I bought the <a href="http://www.realmofracket.com/">Realm of Racket</a> book, which was a great source of inspiration. The racket language, as a <code>scheme</code> dialect (itself a <code>lisp</code> dialect), seems like a great fit for teaching children:</p>
<ul>
<li>very little syntax</li>
<li>no keywords, translate-able (see lower)</li>
<li>very good libraries and material for teaching, like <a href="http://www.htdp.org/">HtDP</a></li>
<li>a REPL and the DrRacket GUI</li>
</ul>
<p>For older children with some experience in mathematics, I would actually consider <code>haskell</code>, but at this age I think <code>racket</code> is a great option.</p>
<p>We worked through weekly ~1h sessions through the summer, with little or no material prepared ahead of time. Most of the time I would write the skeleton of the code and ask them to modify it to achieve the function. Children were not independently writing code from scratch. Due to that, it’s a question how much programming they actually learned. We did work on their geometry skills when working on the game, at the very least.</p>
<p>I don’t claim to have achieved anything better than if we had went with <code>scratch</code>. Maybe it would have been a better choice in the end. I don’t know scratch enough to make a judgment on that.</p>
<p>I’ve put slightly edited versions of the source code we’ve produced <a href="https://www.github.com/emmanueltouzery/racket-summer-programming/">on github</a>.</p>
<h2 id="getting-ready">Getting ready</h2>
<p>When I picked <code>racket</code> as a teaching language, I didn’t know it myself. To prepare myself, I wrote <a href="https://github.com/emmanueltouzery/racket-blocks">a tetris-like game in racket</a>. It worked out well enough that I was convinced that was the way forward also for my teaching plans.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>Racket’s standard library functions are obviously named in english. I decided to try as much as possible to translate function names to Slovenian, which is the language my children are fluent in. Something like that would be impossible in many traditional languages, but it’s no problem do it in <code>racket</code> (well, <a href="http://stackoverflow.com/questions/35976538/">I still had to ask</a>). Thanks to this, the core <code>scheme</code> function <code>define</code> became <code>naj-bo</code>, <code>if</code> became <code>če</code>, and so on. I also <a href="https://github.com/emmanueltouzery/racket-summer-programming/blob/master/slovensko/slovenscina.rkt">translated</a> many library function names.</p>
<p>An issue that turned up with that though, was that error messages (compile errors) would still come up in english, and were then even more baffling to children than they would be otherwise (you can’t relate to an ‘<code>undefined</code>’ error message if you didn’t actually use ‘<code>define</code>’ in the first place..).</p>
<p>When I’ll give example code from now on, I’ll use english, but we did actually type it in Slovenian with the children.</p>
<h2 id="beginnings">Beginnings</h2>
<p>We started the first session by playing with the REPL in DrRacket, so performing basic arithmetic and viewing the results. So, expressions like <code>(+ 1 2)</code>, also defining variables, like creating a variable for each their names having as value their age, and calculating the age difference:</p>
<div class="sourceCode"><pre class="sourceCode scheme"><code class="sourceCode scheme">(<span class="kw">define</span><span class="fu"> lara </span><span class="dv">11</span>)
(<span class="kw">define</span><span class="fu"> kristina </span><span class="dv">8</span>)
(<span class="kw">-</span> lara kristina) <span class="co">;; age difference</span>
(<span class="kw">define</span><span class="fu"> year </span><span class="dv">2016</span>)
(<span class="kw">-</span> year lara) <span class="co">;; birth year</span></code></pre></div>
<p>They would then create such variables for other family members, and computing age differences or even sums, then we would look at nested expressions like <code>(/ (+ 6 4) 2)</code> (which is (6+4)/2). Thanks to the interactivity of the REPL, what could be very confusing was not that problematic in the end.</p>
<p>We then moved to the first exercise from the <code>Realm of Racket</code> book: guess the number. The player picks a number between 0 and 100, the computer must guess it, the player answers with ‘too high’, ‘too low’ until the computer finds the number. The insight is to write the app relying entirely on the REPL: you communicate with the computer by calling functions, so no need for mechanisms to parse user input for instance.</p>
<p>A first implementation looks like that:</p>
<div class="sourceCode"><pre class="sourceCode scheme"><code class="sourceCode scheme">#lang racket

(<span class="kw">define</span><span class="fu"> minimum </span><span class="dv">0</span>)
(<span class="kw">define</span><span class="fu"> maximum </span><span class="dv">100</span>)

<span class="co">;; guess =&gt; try the middle of the interval</span>
<span class="co">;; quotient is integer division</span>
(<span class="kw">define</span><span class="fu"> </span>(guess)
  (<span class="kw">quotient</span> (<span class="kw">+</span> minimum maximum) <span class="dv">2</span>))

<span class="co">;; set! overwrites a value</span>
<span class="co">;; sub1 subtracts 1</span>
<span class="co">;; =&gt; overwrite the maximum to become guess-1</span>
<span class="co">;;    and then guess again</span>
(<span class="kw">define</span><span class="fu"> </span>(smaller)
  (set! maximum (sub1 (guess)))
  (guess))

<span class="co">;; add1 adds 1</span>
<span class="co">;; =&gt; overwrite the minimum to become guess+1</span>
<span class="co">;;    and then guess again</span>
(<span class="kw">define</span><span class="fu"> </span>(bigger)
  (set! mininum (add1 (guess)))
  (guess))</code></pre></div>
<p>This is actually simplified from the book, removing some subtleties to stick the minimum more or less working solution.</p>
<p>A session of playing this game looks like that (again, example from the book):</p>
<div class="sourceCode"><pre class="sourceCode scheme"><code class="sourceCode scheme"><span class="kw">&gt;</span> (guess)
<span class="dv">50</span>
<span class="kw">&gt;</span> (bigger)
<span class="dv">75</span>
<span class="kw">&gt;</span> (smaller)
<span class="dv">62</span>
<span class="kw">&gt;</span> (smaller)
<span class="dv">56</span></code></pre></div>
<p>The hardest thing here was explaining the binary search algorithm. But they got it, it’s pretty intuitive in the context of guessing a number.</p>
<p>Regarding the implementation, while I’m not a great fan of the mutation, it’s pretty concise, and the game was a great success with the kids. We proceeded to expand it, changing the range of numbers, and also detecting when we knew we won (when upper is equal to lower) – an idea of the kids.</p>
<p>At that point it was mostly me changing the application itself, but I would ask the children what part of the program should be changed to achieve the new feature, and what exactly would they change. We would try every suggestion from the children, including those that were obviously not going to work, so that they could see the effects of the changes by themselves. I think that was an important aspect, that they could grasp this sense of interactivity and control.</p>
<p>Then I would slowly have them make the changes themselves and try them up.</p>
<h1 id="graphics">Graphics</h1>
<p>One of the articles that inspired me preparing the plan for the graphics was <a href="https://cdsmith.wordpress.com/2016/05/22/codeworlds-big-decisions/">that one about the CodeWorld teaching language</a>, and in particular this paragraph:</p>
<blockquote>
<p>Another change here was originally an accident. CodeWorld, from the beginning, did not implement using any kind of image file in a program. Originally, this was because I hadn’t bothered to implement a UI for uploading assets to use in the web-based programs! But after teaching with it, I don’t regret it at all. I’ve had other teachers tell me the same thing. By giving students only geometric primitives, not images copied and pasted from the web, as the tools for their projects, they are more creative and work with a lot more mathematics in the process.</p>
</blockquote>
<p>So I also decided to forgo images and have all drawings being combinations of basic primitives (triangles, rectangles, circles…). Our first exercise was some drawing, and halfway through it we came up together with the children to the idea of our hero being a snowman. Being drawn as two circles, it was a perfect match.</p>
<h2 id="drawing-our-hero">Drawing our hero</h2>
<p>I found the style in <code>Realm of Racket</code> to be excessively using mutation and local <code>define</code> calls, so I did introduce the <a href="http://lexi-lambda.github.io/threading/threading.html">threading macros</a><a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a>, explaining just that they help chaining calls.</p>
<p>So our first graphical program drew our snowman:</p>
<div class="sourceCode"><pre class="sourceCode scheme"><code class="sourceCode scheme">#lang racket

(require 2htdp/image)
(require threading)

(~<span class="kw">&gt;</span> (rectangle <span class="dv">100</span> <span class="dv">100</span> <span class="st">&quot;solid&quot;</span> <span class="st">&quot;blue&quot;</span>)
    (place-image/align
     (circle <span class="dv">20</span> <span class="st">&quot;solid&quot;</span> <span class="st">&quot;white&quot;</span>) <span class="dv">30</span> <span class="dv">60</span> <span class="st">&quot;left&quot;</span> <span class="st">&quot;top&quot;</span> _)
    (place-image/align
     (circle <span class="dv">10</span> <span class="st">&quot;solid&quot;</span> <span class="st">&quot;white&quot;</span>) <span class="dv">40</span> <span class="dv">40</span> <span class="st">&quot;left&quot;</span> <span class="st">&quot;top&quot;</span> _))</code></pre></div>
<div class="figure">
<img src="../images/2016-10-09-teaching-racket-snowman.png" alt="Our hero" />
<p class="caption">Our hero</p>
</div>
<p>To draw our snowman, I prepared the code to draw the background rectangle and the lower circle, then asked the children to modify the program to draw the second circle in the right position and at the right size. Their success showed that they had at least some understanding of the program structure and of the geometry involved. Thank you <code>CodeWorld</code>!</p>
<p>Also thumbs up to DrRacket for displaying also pictures in the REPL output!</p>
<h2 id="the-big-bang">The Big Bang</h2>
<p>After drawing, we could move to the next step: animating! This is where the killer application for <code>racket</code> for teaching comes up: the <a href="https://docs.racket-lang.org/teachpack/2htdpuniverse.html#%28form._world._%28%28lib._2htdp%2Funiverse..rkt%29._big-bang%29%29">big-bang</a> function. Big bang, part of the “How to Design Programs” suite, guides the developer in organizing the application’s state in a single structure, then providing functions to evolve that state when the following events (or many other types of events) occur:</p>
<ul>
<li>time passing</li>
<li>keyboard/mouse events</li>
<li>endgame detection</li>
</ul>
<p>So all you need for a functional game is an initial state, a drawing function taking the state, and functions to transform the state when any of those events occur.</p>
<p>The first obvious program we built was to have the snowman fall on the display. Our state is be a single integer: the y position of the snowman, and it increases with time. We also modify our existing <code>snowman</code> function to take as a parameter the vertical offset at which to draw.</p>
<div class="sourceCode"><pre class="sourceCode scheme"><code class="sourceCode scheme">#lang racket

(require 2htdp/image 2htdp/universe)
(require threading)

<span class="co">;; the snowman function now takes the Y offset as parameter</span>
(<span class="kw">define</span>
<span class="fu"> </span>(snowman position)
 (~<span class="kw">&gt;</span> (rectangle <span class="dv">500</span> <span class="dv">300</span> <span class="st">&quot;solid&quot;</span> <span class="st">&quot;blue&quot;</span>)
     (place-image/align
      (circle <span class="dv">20</span> <span class="st">&quot;solid&quot;</span> <span class="st">&quot;white&quot;</span>) <span class="dv">240</span> (<span class="kw">+</span> position <span class="dv">20</span>) <span class="st">&quot;left&quot;</span> <span class="st">&quot;top&quot;</span> _)
     (place-image/align
      (circle <span class="dv">10</span> <span class="st">&quot;solid&quot;</span> <span class="st">&quot;white&quot;</span>) <span class="dv">250</span> position <span class="st">&quot;left&quot;</span> <span class="st">&quot;top&quot;</span> _)))

(big-bang <span class="dv">0</span>
          (on-tick add1) <span class="co">;; increase the Y offset with time</span>
          (on-draw snowman))</code></pre></div>
<p><img src="../images/2016-10-09-teaching-racket-snowman-anim.png" onclick="this.src = this.src.endsWith('gif') ? '../images/2016-10-09-teaching-racket-snowman-anim.png' : '../images/2016-10-09-teaching-racket-snowman-anim.gif'" /></p>
<p>At first the children modified the snowman function to take the vertical offset (experimenting with several values until they got it right), then we plugged in the big-bang.</p>
<p>I expected that the origin of the coordinate system being the top-left would be a problem, but it turned out to be no issue at all. And, in hindsight, why would it be? At that age, they were never exposed to any cartesian coordinate system!</p>
<p>We later expanded the program to detect when the snowman would hit the bottom of the screen (that it didn’t stop there out of the box proved surprisingly annoying to the children), and also added some control on the position by pressing the up and down arrow keys:</p>
<div class="sourceCode"><pre class="sourceCode scheme"><code class="sourceCode scheme"><span class="co">;; did we reach the bottom of the screen?</span>
(<span class="kw">define</span><span class="fu"> </span>(end? position)
        (<span class="kw">&gt;=</span> position (<span class="kw">-</span> <span class="dv">300</span> <span class="dv">60</span>)))

<span class="co">;; create an updated state on key press</span>
(<span class="kw">define</span><span class="fu"> </span>(keypress position key)
        (match key
               [(== <span class="st">&quot;up&quot;</span>) (<span class="kw">-</span> position <span class="dv">10</span>)]
               [(== <span class="st">&quot;down&quot;</span>) (<span class="kw">+</span> position <span class="dv">10</span>)]
               [<span class="kw">else</span> position]))

<span class="co">;; two new clauses: stop-when and on-key</span>
(big-bang <span class="dv">0</span>
          (on-tick add1)
          (on-draw snowman)
          (stop-when end?)
          (on-key keypress))</code></pre></div>
<h1 id="structs-and-a-real-game">Structs and a real game</h1>
<p>At this point we were thinking what to build going forward and we settled on a <a href="https://en.wikipedia.org/wiki/Flappy_Bird">Flappy Bird</a> clone. The game is actually amazingly simple: the bird only moves vertically, then you have a list of obstacles which move towards the left, and differ among themselves only by the vertical position of the opening.</p>
<p>That means the state for the game is only:</p>
<ul>
<li>an integer representing the vertical position of the bird</li>
<li>an integer representing the horizontal offset of the obstacles</li>
<li>a list of integers being the vertical offsets of the openings of the displayed obstacles</li>
</ul>
<p>In reality we would also need a vertical acceleration for the bird (and probably also a points counter), but for our purpose, we could skip that.</p>
<p>We already had the character, and knew how to move it vertically on the screen, and how to react to keys. We needed to draw obstacles, and work with that more complex state. But to define that state we need structs, which I had not introduced yet: our state so far was only an integer, which was not enough.</p>
<p>At the time I was reading <a href="https://mitpress.mit.edu/books/art-prolog">a prolog book</a> which has many examples related to families and it struck me that this is one concept that would be crystal-clear to children. So we spent some time with examples like:</p>
<div class="sourceCode"><pre class="sourceCode scheme"><code class="sourceCode scheme"><span class="co">;; structure named 'family' with three fields</span>
(struct family (father mother children) #:transparent)
<span class="co">;; define a family, bind it to the my-family variable.</span>
(<span class="kw">define</span><span class="fu"> my-family </span>(family <span class="st">&quot;emmanuel&quot;</span> <span class="st">&quot;simona&quot;</span> <span class="st">&quot;lara&quot;</span>))

<span class="co">;; to read a field you call the function &lt;struct name&gt;-&lt;field name&gt;</span>
(family-mother my-family) <span class="co">;; outputs &quot;simona&quot;</span>
(family-father my-family) <span class="co">;; outputs &quot;emmanuel&quot;</span></code></pre></div>
<p>And so on. The <code>#:transparent</code> is pretty unfortunate, it’s required among others so that the contents of the struct are nicely displayed by the REPL. Originally I intended to have the children be a list, but in the end I backed off, didn’t want to already introduce the concept of a list right then, also because non-graphic programming was much less attractive to the kids at this point (a difficult balance, that.. you want to build on the basics but you have to keep them motivated at all times…).</p>
<p>Anyway to introduce the new feature we had with structures, we expanded the program we had by having a 2D position for the snowman, X and Y, taking advantage of all the arrow keys.</p>
<p>That lesson was pretty boring for the kids as the code porting was pretty mechanical (previously the state was simply the Y of the snowman, now we had to call <code>game-state-position-top</code> to extract it) and unfortunately I did most of it myself. But they had fun playing with the updated game afterwards and the eldest daughter could understand structs much better after that. It was very tough for the younger one though.</p>
<p>During that lesson I also considered introducing racket pattern-matching, which would have helped making the code more concise. With pattern matching, you give the “shape” of the parameter the function expects, and you can deconstruct it to extract directly the field(s) you’re interested it in a new variable<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a>.</p>
<div class="sourceCode"><pre class="sourceCode scheme"><code class="sourceCode scheme"><span class="co">;; our game state-state struct has two fields: position top &amp; left</span>
(struct game-state (position-top position-left) #:transparent)

<span class="co">;; no pattern matching</span>
(<span class="kw">define</span><span class="fu"> </span>(end? state)
  (<span class="kw">&gt;=</span> (game-state-position-top state) (<span class="kw">-</span> <span class="dv">300</span> <span class="dv">60</span>)))

<span class="co">;; pattern matching</span>
<span class="co">;; we extract the first field of the game-state and name the variable 'top'</span>
<span class="co">;; we ignore the second field, mark it with an underscore</span>
(define/match* (end2? (game-state top _))
  (<span class="kw">&gt;=</span> top (<span class="kw">-</span> <span class="dv">300</span> <span class="dv">60</span>)))</code></pre></div>
<p>But ultimately it was painfully clear that already the introduction of structs was well enough on its own without adding more new concepts, so I renounced it. That did make the rest of code more verbose, in the same way than what <a href="http://stackoverflow.com/questions/36228594"><code>Realm of Racket</code> is doing</a>, with many <code>define</code> calls, but it was the best compromise at that point.</p>
<h1 id="flappy-bird">Flappy bird</h1>
<p>To implement flappy bird, we started by scrapping the left/right movement of the snowman, and add the drawing of pillars. Pillars are simply drawn through two rectangles. The girls did come up with the coordinates for the pillars although the geometry started being tough for the younger one.</p>
<p>Also the oldest one gave us a good surprise when after the lesson she took the initiative to modify the program on her own to redecorate the game by adding many colors.</p>
<div class="figure">
<img src="../images/2016-10-09-teaching-racket-colors.png" alt="Improved colors: good work Lara!" />
<p class="caption">Improved colors: good work Lara!</p>
</div>
<div class="sourceCode"><pre class="sourceCode scheme"><code class="sourceCode scheme"><span class="co">;; the state has the top position of the snowman</span>
<span class="co">;; and the left position of a pillar</span>
(struct game-state (position-top position-left) #:transparent)

<span class="co">;; a pillar is two rectangles</span>
(<span class="kw">define</span>
<span class="fu"> </span>(pillar drawing state)
 (~<span class="kw">&gt;</span>
  (place-image/align (rectangle <span class="dv">40</span> <span class="dv">100</span> <span class="st">&quot;solid&quot;</span> <span class="st">&quot;green&quot;</span>)
                     <span class="dv">0</span> <span class="dv">0</span> <span class="st">&quot;left&quot;</span> <span class="st">&quot;top&quot;</span> drawing)
  (place-image/align (rectangle <span class="dv">40</span> <span class="dv">80</span> <span class="st">&quot;solid&quot;</span> <span class="st">&quot;yellow&quot;</span>)
                     <span class="dv">0</span> <span class="dv">220</span> <span class="st">&quot;left&quot;</span> <span class="st">&quot;top&quot;</span> _)))

(<span class="kw">define</span>
<span class="fu"> </span>(draw-game state)
 (<span class="kw">define</span><span class="fu"> position-left </span>(game-state-position-left state))
 (<span class="kw">define</span><span class="fu"> position-top </span>(game-state-position-top state))
 (~<span class="kw">&gt;</span> (rectangle <span class="dv">500</span> <span class="dv">300</span> <span class="st">&quot;solid&quot;</span> <span class="st">&quot;violet&quot;</span>)
     (snowman position-left position-top)
     (pillar state)))

<span class="co">;; move the snowman down with time, and the pillars left with time</span>
(<span class="kw">define</span><span class="fu"> </span>(ticker game-state)
        (game-state (add1 (game-state-position-top game-state))
                    (sub1 (game-state-position-left game-state))))</code></pre></div>
<p><img src="../images/2016-10-09-teaching-racket-snowman-final.png" onclick="this.src = this.src.endsWith('gif') ? '../images/2016-10-09-teaching-racket-snowman-final.png' : '../images/2016-10-09-teaching-racket-snowman-final.gif'" /></p>
<p>As a final step, we made the Y position of the opening in the pillar configurable. The maths and the geometry of that were are the limit of what the kids could do. The next steps would be to manage a list of pillars to show, with random opening heights for each of them… Many new concepts again.</p>
<p>At that point we had reached the end of the summer holidays (we only programmed when at home, not when at the seaside and so on), and we called it a day, because with school and extra-school activities, the kids already have their hands full!</p>
<h1 id="epilogue">Epilogue</h1>
<p>Racket is fun!</p>
<p>But the truth is, at this point I still don’t know for sure whether <code>scratch</code> would have been a better choice and maybe racket was the selfish choice for me (more fun). But if it would be better “traditional” languages, I’m very confident <code>racket</code> was the best option.</p>
<p>Asking the kids, they liked it, although the youngest one (at 8) had a hard time towards the end. I do think they picked up some geometry at least along the way, and also got a better idea how computer programs work.</p>
<p>We’ll see when we resume this work. As I said, during the school year it’s never easy. Certainly at worst next summer we’ll do again something like that.</p>
<p>My eldest, at 11, will have a course of programming at school this year, using <code>scratch</code>. I’m curious of what she’ll tell me about how much her experience with racket helped or not.</p>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>Those macros don’t ship with racket, you must install the threading package: <code>raco pkg install threading</code> in command-line.<a href="#fnref1">↩</a></p></li>
<li id="fn2"><p><code>define/match*</code> does not ship with racket (<code>define/match</code> and <code>match</code> do). You must install the match-plus package: <code>raco pkg install match-plus</code> in command-line.<a href="#fnref2">↩</a></p></li>
</ol>
</div>

        </div>
        <div id="footer">
            Site proudly generated by
            <a href="http://jaspervdj.be/hakyll">Hakyll</a>
        </div>
    </body>
</html>
